const mongoose=require('mongoose')
const contestSchema=new mongoose.Schema({
contestname:{
    type:String,
    required:true
},
registration_starttime:{
type:Date,
required:true
},
registration_endtime:{
type:Date,
required:true
},
starttime:{
    type:Date,
    required:true
},
endtime:{
    type:Date,
    required:true
},
image:{
    type:String,
    required:true,
},
noofquestions:{
    type:Number,
    required:true,
},
questions:[
{
    type:mongoose.Types.ObjectId,
    ref:'Question',
    default:null
},
],
contestduration:{
type:String,
required:true
},
prize:{
    type:String,
    required:true
},
registeredusers:[
    {
        type:mongoose.Types.ObjectId,
        ref:'RegisteredUser'
    }
],
totalslots:[{
  slotno:{
      type:String,
      required:true
  },
  slotstarttime:{
      type:Date,
      required:true
  },
  slotendtime:{
      type:Date,
      required:true
  }  
}],
slotstrength:{
    type:Number,
    required:true,
},
availableslot:{
type:Array,
},
fees:{
    type:Number,
    required:true,
    default:0
},
contestdetail:{
    type:String,
    required:true
},
rules:{
    type:String,
    required:true
},
contesttype:{
type:String,
required:true
},
seats_filled:{
type:Number,
default:0
},
seats_left:{
type:Number,
},
venue:{
    type:String
},
isregistered:{
    type:Boolean,
    default:false
},
teststarttime:{
    type:Date,
    default:null
},
testendtime:{
    type:Date,
    default:null
},
testgiven:{
    type:Boolean,
    default:false
}
})
module.exports=mongoose.model('Contest',contestSchema)